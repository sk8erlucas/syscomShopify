2025-06-13 21:12:47,142 - INFO - ✅ API de Shopify configurada correctamente
2025-06-13 21:12:47,143 - INFO - GET https://9s08ym-uc.myshopify.com/admin/api/2025-04/shop.json
2025-06-13 21:12:50,620 - INFO - --> 200 OK 1560b
2025-06-13 21:12:50,622 - INFO - 🏪 Información de la tienda:
2025-06-13 21:12:50,623 - INFO -    ID: 70036553914
2025-06-13 21:12:50,624 - INFO -    Nombre: Sepacsye
2025-06-13 21:12:50,624 - INFO -    Dominio: sepacsye.com
2025-06-13 21:12:50,625 - INFO -    País: MX
2025-06-13 21:12:50,626 - INFO -    Moneda: MXN
2025-06-13 21:12:50,628 - INFO - GET https://9s08ym-uc.myshopify.com/admin/api/2025-04/locations.json
2025-06-13 21:12:50,937 - INFO - --> 200 OK 499b
2025-06-13 21:12:50,938 - INFO - 📍 Ubicaciones encontradas: 1
2025-06-13 21:12:50,939 - INFO -    📍 OTANCAHUI 802 (ID: 77235355834)
2025-06-13 21:12:50,940 - INFO -       Dirección: OTANCAHUI 802, CIUDAD OBREGON
2025-06-13 21:12:50,940 - INFO -       Activa: True
2025-06-13 21:12:50,942 - INFO - 🧪 Probando permisos de inventario en ubicación 77235355834...
2025-06-13 21:12:50,943 - INFO - GET https://9s08ym-uc.myshopify.com/admin/api/2025-04/inventory_levels.json?location_ids=77235355834&limit=5
2025-06-13 21:12:51,221 - ERROR - ❌ Error probando permisos de inventario: Response(code=403, body="b'{"errors":"[API] This action requires merchant approval for read_inventory scope."}'", headers={'Date': 'Sat, 14 Jun 2025 00:12:51 GMT', 'Content-Type': 'application/json; charset=utf-8', 'Transfer-Encoding': 'chunked', 'Connection': 'close', 'x-sorting-hat-podid': '185', 'x-sorting-hat-shopid': '70036553914', 'vary': 'Accept-Encoding', 'referrer-policy': 'origin-when-cross-origin', 'x-frame-options': 'DENY', 'x-shopid': '70036553914', 'x-shardid': '185', 'x-stats-userid': '', 'x-stats-apiclientid': '258248638465', 'x-stats-apipermissionid': '557019922618', 'x-shopify-api-version': '2025-04', 'x-shopify-shop-api-call-limit': '2/40', 'strict-transport-security': 'max-age=7889238', 'x-request-id': 'ce519b32-6df6-40f0-ab3e-d9b43c156e76-1749859971', 'server-timing': 'processing;dur=24', 'content-security-policy': "default-src 'self' data: blob: 'unsafe-inline' 'unsafe-eval' https://* shopify-pos://*; block-all-mixed-content; child-src 'self' https://* shopify-pos://*; connect-src 'self' wss://* https://*; frame-ancestors 'none'; img-src 'self' data: blob: https:; script-src https://cdn.shopify.com https://cdn.shopifycdn.net https://checkout.pci.shopifyinc.com https://checkout.pci.shopifyinc.com/build/75a428d/card_fields.js https://api.stripe.com https://mpsnare.iesnare.com https://appcenter.intuit.com https://www.paypal.com https://js.braintreegateway.com https://c.paypal.com https://maps.googleapis.com https://www.google-analytics.com https://v.shopify.com 'self' 'unsafe-inline' 'unsafe-eval'; upgrade-insecure-requests; report-uri /csp-report?source%5Baction%5D=index&source%5Bapp%5D=Shopify&source%5Bcontroller%5D=admin%2Finventory_levels&source%5Bsection%5D=admin_api&source%5Buuid%5D=ce519b32-6df6-40f0-ab3e-d9b43c156e76-1749859971; report-to shopify-csp", 'x-content-type-options': 'nosniff', 'x-download-options': 'noopen', 'x-permitted-cross-domain-policies': 'none', 'x-xss-protection': '1; mode=block', 'reporting-endpoints': 'shopify-csp="/csp-report?source%5Baction%5D=index&source%5Bapp%5D=Shopify&source%5Bcontroller%5D=admin%2Finventory_levels&source%5Bsection%5D=admin_api&source%5Buuid%5D=ce519b32-6df6-40f0-ab3e-d9b43c156e76-1749859971"', 'x-dc': 'gcp-us-east1,gcp-us-east1,gcp-us-east1', 'Alt-Svc': 'h3=":443"; ma=86400', 'cf-cache-status': 'DYNAMIC', 'Report-To': '{"endpoints":[{"url":"https:\\/\\/a.nel.cloudflare.com\\/report\\/v4?s=nqvq24gA4ygRYUxGESJTbd7fmiVt3h8%2BoRD%2F5lkfgixUBK9EcyCqCSIZEKbs39PSvFtaxNsZ8ToloApQZZrj%2BD9Bdfkf%2F3vU8YXuX9BWk56a3%2BuPXWNIFIldwKATfnrcQiD3HfKYv2XabEOUFwgmfJSj3nFC"}],"group":"cf-nel","max_age":604800}', 'NEL': '{"success_fraction":0.01,"report_to":"cf-nel","max_age":604800}', 'Shopify-Edge-Ip': '2620:127:f00f:e::', 'Server-Timing': 'processing;dur=24', 'Server': 'cloudflare', 'CF-RAY': '94f59e53e8d19b14-EZE'}, msg="Forbidden")
2025-06-13 21:12:51,489 - INFO - 📖 Archivo leído con encoding: latin-1
2025-06-13 21:12:52,141 - INFO - 🔄 Procesadas 1,000 líneas...
2025-06-13 21:12:52,508 - INFO - 🔄 Procesadas 2,000 líneas...
2025-06-13 21:12:52,718 - INFO - 🔄 Procesadas 3,000 líneas...
2025-06-13 21:12:53,124 - INFO - 🔄 Procesadas 4,000 líneas...
2025-06-13 21:12:53,364 - INFO - 🔄 Procesadas 5,000 líneas...
2025-06-13 21:12:53,679 - INFO - 🔄 Procesadas 6,000 líneas...
2025-06-13 21:12:53,994 - INFO - 🔄 Procesadas 7,000 líneas...
2025-06-13 21:12:54,320 - INFO - 🔄 Procesadas 8,000 líneas...
2025-06-13 21:12:54,616 - INFO - 🔄 Procesadas 9,000 líneas...
2025-06-13 21:12:54,943 - INFO - 🔄 Procesadas 10,000 líneas...
2025-06-13 21:12:55,475 - INFO - 🔄 Procesadas 11,000 líneas...
2025-06-13 21:12:56,094 - INFO - 🔄 Procesadas 12,000 líneas...
2025-06-13 21:12:56,676 - INFO - 🔄 Procesadas 13,000 líneas...
2025-06-13 21:12:57,304 - INFO - 🔄 Procesadas 14,000 líneas...
2025-06-13 21:12:58,044 - INFO - 🔄 Procesadas 15,000 líneas...
2025-06-13 21:12:58,695 - INFO - 🔄 Procesadas 16,000 líneas...
2025-06-13 21:12:59,336 - INFO - 🔄 Procesadas 17,000 líneas...
2025-06-13 21:12:59,794 - INFO - 🔄 Procesadas 18,000 líneas...
2025-06-13 21:13:00,450 - INFO - 🔄 Procesadas 19,000 líneas...
2025-06-13 21:13:00,935 - INFO - 🔄 Procesadas 20,000 líneas...
2025-06-13 21:13:01,508 - INFO - 🔄 Procesadas 21,000 líneas...
2025-06-13 21:13:02,042 - INFO - 🔄 Procesadas 22,000 líneas...
2025-06-13 21:13:02,512 - INFO - 🔄 Procesadas 23,000 líneas...
2025-06-13 21:13:03,417 - INFO - ✅ Archivo corregido guardado: ProductosHora_fixed.csv
2025-06-13 21:13:03,417 - INFO - 📊 Líneas procesadas: 23,489
2025-06-13 21:13:03,488 - INFO - 📖 Archivo leído con encoding: utf-8
2025-06-13 21:13:03,502 - INFO - 🔄 Procesadas 1,000 líneas...
2025-06-13 21:13:03,504 - INFO - ✅ Archivo corregido guardado: productos_descargado_20250613_203030_fixed.csv
2025-06-13 21:13:03,505 - INFO - 📊 Líneas procesadas: 822
2025-06-13 21:13:03,747 - INFO - 📖 Archivo leído con encoding: latin-1
2025-06-13 21:13:04,400 - INFO - 🔄 Procesadas 1,000 líneas...
2025-06-13 21:13:04,843 - INFO - 🔄 Procesadas 2,000 líneas...
2025-06-13 21:13:05,104 - INFO - 🔄 Procesadas 3,000 líneas...
2025-06-13 21:13:05,508 - INFO - 🔄 Procesadas 4,000 líneas...
2025-06-13 21:13:05,744 - INFO - 🔄 Procesadas 5,000 líneas...
2025-06-13 21:13:06,053 - INFO - 🔄 Procesadas 6,000 líneas...
2025-06-13 21:13:06,301 - INFO - 🔄 Procesadas 7,000 líneas...
2025-06-13 21:13:06,596 - INFO - 🔄 Procesadas 8,000 líneas...
2025-06-13 21:13:06,893 - INFO - 🔄 Procesadas 9,000 líneas...
2025-06-13 21:13:07,245 - INFO - 🔄 Procesadas 10,000 líneas...
2025-06-13 21:13:07,801 - INFO - 🔄 Procesadas 11,000 líneas...
2025-06-13 21:13:08,478 - INFO - 🔄 Procesadas 12,000 líneas...
2025-06-13 21:13:09,024 - INFO - 🔄 Procesadas 13,000 líneas...
2025-06-13 21:13:09,654 - INFO - 🔄 Procesadas 14,000 líneas...
2025-06-13 21:13:10,354 - INFO - 🔄 Procesadas 15,000 líneas...
2025-06-13 21:13:11,047 - INFO - 🔄 Procesadas 16,000 líneas...
2025-06-13 21:13:11,721 - INFO - 🔄 Procesadas 17,000 líneas...
2025-06-13 21:13:12,179 - INFO - 🔄 Procesadas 18,000 líneas...
2025-06-13 21:13:12,961 - INFO - 🔄 Procesadas 19,000 líneas...
2025-06-13 21:13:13,428 - INFO - 🔄 Procesadas 20,000 líneas...
2025-06-13 21:13:14,051 - INFO - 🔄 Procesadas 21,000 líneas...
2025-06-13 21:13:14,697 - INFO - 🔄 Procesadas 22,000 líneas...
2025-06-13 21:13:15,223 - INFO - 🔄 Procesadas 23,000 líneas...
2025-06-13 21:13:16,203 - INFO - ✅ Archivo corregido guardado: productos_ociostock_fixed.csv
2025-06-13 21:13:16,204 - INFO - 📊 Líneas procesadas: 23,505
2025-06-13 21:13:16,283 - INFO - 📖 Archivo leído con encoding: utf-8
2025-06-13 21:13:16,295 - INFO - 🔄 Procesadas 1,000 líneas...
2025-06-13 21:13:16,298 - INFO - ✅ Archivo corregido guardado: productos_shopify_fixed.csv
2025-06-13 21:13:16,298 - INFO - 📊 Líneas procesadas: 822
2025-06-13 21:13:16,303 - INFO - ✅ Script de gestión de stock creado: stock_manager.py
